#!/bin/sh

# A simple script to change wallpaper in river-session
systemctl --user import-environment WAYLAND_DISPLAY

random_wall=$(shuf -n 1 -e ~/pix/wall/blurry/*)
river_wall=/tmp/river-$(date "+%d-%m-%H-%M").png

background() {
    convert $random_wall -gravity Center -resize 1920 -crop 1920x1080+0+0 $river_wall
}

options="$1"

if [ "$options" = "lock" ]; then
    background && swaylock -f -i $river_wall
elif [ "$options" = "wall" ]; then
    background && swaybg -m fill -i $river_wall
else
    exit 1
fi

# vim:ft=sh
